---
title: Policy System
description: Technical reference for policy issuance, management, and lifecycle.
---



The **Policy System** manages the entire lifecycle of insurance policies in LayerCover, from issuance to expiration or claim. It is designed to be flexible, supporting both standard term policies and dynamic "Intent-Based" coverage.

## Architecture

### **PolicyManager.sol** (Proxy)

The **PolicyManager** is the central entry point. To handle the complexity and size of the policy logic, it uses a **Shared Storage Proxy** pattern (similar to EIP-2535 Diamonds).

- **Proxy:** The main **PolicyManager** contract holds all state and storage.
- **Delegates:** Logic is split across three stateless "Delegate" contracts:
    1.  **LifecycleDelegate:** Handles minting, modifications, expiration, and claims.
    2.  **PremiumDelegate:** Manages premium collection and distribution.
    3.  **AdminDelegate:** Handles governance and configuration.

This architecture allows the system to exceed the standard 24kb contract size limit while maintaining a unified address and state.

---

## Policy Lifecycle

### 1. Purchase
Policies can be purchased directly or via an "Intent".

**Standard Purchase:**
```solidity
function purchaseCover(
    uint256 poolId,
    uint256 coverageAmount,
    uint256 initialPremiumDeposit
) external returns (uint256 policyId);
```

**Intent Purchase:**
Allows for off-chain negotiation of terms (rate, duration) which are then settled on-chain.
```solidity
function purchaseCoverageViaIntent(
    address buyer,
    uint256 poolId,
    uint256 coverageAmount,
    uint256 agreedRateBps,
    uint256 premiumDeposit,
    address backingUnderwriter,
    uint256 duration,
    bytes32 reservationKey
) public returns (uint256);
```

### 2. Modification
Policyholders can adjust their coverage dynamically:

**addPremium**: Top up the premium deposit to extend the policy duration.
```solidity
function addPremium(uint256 policyId, uint256 amount) external;
```

**increaseCover**: Increase the coverage amount (requires underwriting capacity).
```solidity
function increaseCover(uint256 policyId, uint256 additionalCoverage) external;
```

**reduceCover**: Decrease coverage to save on premiums.
```solidity
function reduceCover(uint256 policyId, uint256 reduceAmount) external;
```

**cancelCover**: Cancel the policy and receive a refund of unused premium.
```solidity
function cancelCover(uint256 policyId) external;
```

### 3. Expiration
Policies expire when:
- The `premiumDeposit` runs out (Pay-As-You-Go model).
- The fixed duration ends (for Intent-based policies).
- The policy is manually cancelled or lapsed.

---

## Premiums & Rewards

### Premium Distribution
For a detailed breakdown of how premiums are split between Syndicates, Reinsurance, and Protocol Fees, please refer to the [Core Concepts: Rewards and Premiums](/concepts/underwriting/core-concepts#3-rewards-and-premiums) guide.

### Referral System
The system includes a built-in referral mechanism. When purchasing a policy, a `referralCode` can be provided. The **PolicyManager** coordinates with the **ReferralManager** to distribute rewards to the referrer.

---

## Integration Reference

### View Functions

**Check Active Status:**
```solidity
function isPolicyActive(uint256 policyId) public view returns (bool);
```

**Get Policy Details:**
(via **PolicyNFT**)
```solidity
function getPolicy(uint256 policyId) external view returns (Policy memory);
```
